<LoginScreenView>
    FitImage:
        source: "assets/images/bg.png"
    MDBoxLayout:
        orientation: "vertical"
        spacing: 15
        FitImage:
            source: "assets/images/logo.png"
            padding: 4
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: None, None
        MDLabel:
            id: app_name
            text: "Whatsapp Msgstore Viewer"
            font_style: "H5"
            adaptive_height: True
            halign: "center"
        MDRectangleFlatIconButton:
            text: "Ver código-fonte no GitHub"
            icon: "github"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: None, None
            on_press: root.open_github_page()
        MDFloatLayout:
            MDBoxLayout:
                orientation: "vertical"
                adaptive_height: True
                size_hint_x: None
                width: root.width - dp(72)
                radius: 12
                padding: "12dp"
                md_bg_color: 1, 1, 1, .5
                pos_hint: {"center_x": .5, "center_y": .5}
                MDBoxLayout:
                    orientation: "vertical"
                    adaptive_height: True
                    padding: "25dp"
                    spacing: "20dp"
                    TextFieldFileManager:
                        id: msgstore_file_path
                        hint_text: "Caminho do arquivo msgstore.db"
                        pos_hint: {"center_x": .5, "center_y": .5}
                    TextFieldFileManager:
                        id: wa_file_path
                        hint_text: "Caminho do arquivo wa.db (Opcional)"
                        pos_hint: {"center_x": .5, "center_y": .5}
                        helper_text: "Permite exibir nomes dos contatos em vez de apenas números"
                    TextFieldFileManager:
                        id: wp_dir
                        hint_text: "Diretório do WhatsApp (Opcional)"
                        pos_hint: {"center_x": .5, "center_y": .5}
                        helper_text: "Use para visualizar mídias no chat (áudios, vídeos, imagens). Deixe em branco caso contrário"
                    MDTextField:
                        id: db_version
                        pos_hint: {'center_x': .5, 'center_y': .5}
                        text: app.db_version
                        hint_text: "Versão do banco de dados"
                        readonly: True
                        on_focus: if self.focus: root.menu.open()
                        helper_text: "Consulte a página do GitHub para mais detalhes"
                    MDBoxLayout:
                        id: key_file_container
                        orientation: 'horizontal'
                        MDCheckbox:
                            id: enc_checkbox
                            size_hint: None, None
                            size: "48dp", "48dp"
                            pos_hint: {'center_x': .5, 'center_y': .5}
                            on_active: root.on_enc_checkbox(self.active)
                        MDLabel:
                            markup: True
                            text: "Banco de dados criptografado"
                            font_style: "Body2"
                            valign: "center"
                            theme_text_color: 'Secondary'
                    MDRoundFlatButton:
                        text: "Configurações avançadas"
                        on_release: root.open_settings()

    MDFillRoundFlatButton:
        text: "ENTRAR" if not enc_checkbox.active else "DESCRIPTOGRAFAR E ENTRAR"
        on_release: root.controller.on_tap_button_login()
        pos_hint: {"center_x": .5, "center_y": .1}

    Attachment:
        markup: True
        text: "[ref=about]Sobre[/ref]"
        adaptive_height: True
        halign: "center"
        theme_text_color: 'Secondary'
        padding_y: dp(10)
        pos_hint: {"center_x": .5, "center_y": 0.025}
        on_ref_press: root.open_about()
